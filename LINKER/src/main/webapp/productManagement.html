<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품관리</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/productManagement.css">
    <link rel="stylesheet" href="css/writeBtn.css">
    <link rel="stylesheet" href="css/sidebar.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="js/jquery-3.7.1.js"></script>
    <script src="js/script.js"></script>
    <script src="js/productManagement.js"></script>
</head>

<body>
    <div id="pop">
        <div id="pop_box">
            <div class="pop_content">
                <div class="popup_logo">
                    <button id="close"><img src="img/close_icon.png" alt="close_icon"></button>
                    <img src="img/logo.png" alt="logo">
                </div>
                <div class="pop_sec">
                    <span class="pop_one pop_user"><input type="text" placeholder="이메일을 입력하세요"></span>
                    <span class="pop_one pop_user"><input type="password" placeholder="비밀번호를 입력하세요"></span>
                    <div class="pop_sub_flex_box">
                        <input type="checkbox"><strong id="check_span">이메일 저장</strong>
                    </div>
                    <span class="pop_one pop_sign_in"><input type="submit" value="로그인"></span>
                </div>
                <div class="pop_sec_footer">
                    <button class="pop_user"><strong><a class="su2" href="sign_up.html">회원가입</a></strong></button>
                    <button class="pop_user"><strong>비밀번호 찾기</strong></button>
                </div>
            </div>
        </div>
    </div>
    <div id="semi_wrap">
        <header>
            <!-- <div id="header_wrap"> -->
            <div class="header_first_line">
                <div class="logo_box">
                    <img src="img/logo.png" alt="logo">
                </div>
                <div class="header_top_menu">
                    <button class="sign_in">로그인</button>
                    <button class="sign_up"><a class="su" href="sign_up.html">회원가입</a></button>
                </div>
            </div>
            <div class="header_second_line">
                <div class="drop_down hd_drop">
                    <ul class="main_menu">
                        <li><a href="product_list.html">아크릴굿즈</a></li>
                        <li><a href="#">우드굿즈</a></li>
                        <li><a href="#">일러스트굿즈</a></li>
                        <li><a href="#">고객센터</a></li>
                    </ul>
                </div>
                <div class="header_tool ">
                    <div class="left_tool hd_left_t">
                        <input type="text" placeholder="검색어를 입력하세요..">
                        <div class="search_icon"><img src="img/search_icon.png" alt="search_icon"></div>
                    </div>
                    <div class="right_tool hd_right_t">
                        <div class="user_icon">
                            <img src="img/user_icon.png" alt="user_icon">
                        </div>
                        <div class="bucket_icon">
                            <img src="img/cart_icon.png" alt="cart_icon">
                        </div>
                    </div>
                </div>
            </div>
            <!-- </div> -->
        </header>
        <div id="header_bottom_line"></div>
    </div>
    <section class="sec_area">
        <div class="side_inner_body">
            <div class="side_bar">
                <ul>
                    <li><strong>마이페이지</strong></li>
                    <li><a href="#">상품관리</a></li>
                    <li><a href="#">주문 내역</a></li>
                    <li><a href="#">회원 정보 수정</a></li>
                    <li><a href="#">로그아웃</a></li>
                </ul>
            </div>
        </div>
        <div class="container">
            <div class="content">
                <strong id="title">상품관리</strong>
                <div class="coment">
                    <span>상품등록 내역을 확인할 수 있습니다.</span>
                    <span class="color">상품명을 선택하시면 자세히 확인할 수 있습니다.</span>
                </div>
                <button type="button" class="delete-btn" onclick="deleteSelectedProducts()">삭제</button>
                <form id="productForm">
                    <table class="board-table">
                        <tr>
                            <th><input type="checkbox" id="selectAll" onclick="toggleSelectAll()"> 전체 선택</th>
                            <th>상품명</th>
                            <th>카테고리</th>
                            <th>가격</th>
                            <th>등록일</th>
                            <th>상태</th>
                        </tr>
                        <tr>
                            <td><input type="checkbox" class="product-checkbox" value="1"></td>
                            <td><a href="product_detail.html" class="product-link">오둥이키링</a></td>
                            <td>키링</td>
                            <td>2,500원</td>
                            <td>2025-03-17</td>
                            <td>
                                <select class="product-status">
                                    <option value="판매중">판매중</option>
                                    <option value="판매중단" selected>판매중단</option>
                                </select>
                            </td>
                        </tr>
                    </table>
                </form>
                <div class="pagination">
                    <a href="#"><span class="double-next" onclick="goToLastPage()"><img src="img/left_db_arrow.png"
                                alt="#"></span></a>
                    <a href="#"><span class="next" onclick="goToNextPage()"><img src="img/left_arrow.png"
                                alt="arrow"></span></a>
                    <a href="#"><span class="page-num" id="currentPage">1</span></a>
                    <a href="#"><span class="prev" onclick="goToPreviousPage()"><img src="img/right_arrow.png"
                                alt="arrow"></span></a>
                    <a href="#"><span class="double-prev" onclick="goToFirstPage()"><img src="img/right_db_arrow.png"
                                alt="#"></span></a>
                </div>
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="footer_box">
            <ul class="footer_menu">
                <li><a href="#">이용후기</a></li>
                <li><a href="#">마이페이지</a></li>
                <li><a href="#">이용약관</a></li>
                <li><a href="#">개인정보처리방침</a></li>
            </ul>

            <div class="line">
                <div class="line_top">
                    <p class="line_top_p">(주)링커 | 서울시 강남구 | 미니플젝 : 링커 | 개인정보관리책임자 : 손유경 | 사업자등록번호 : 123-45-67890
                    </p>
                    <p class="line_top_p"> : 2025-서울강남-1234 | 유료직업소개사업등록번 호 : 제2025-1234567-89-0-12345호 | 고객센터 :
                        1234-5678 | 호스팅 사업자: Amazon Web Service(AWS)</p>
                </div>
                <div class="line_bottom">
                    <p class="line_bottom_p">(주)링커는 통신판매중개자이며, 통신판매의 당사자가 아닙니다. 상품, 상품정보, 거래에 관한 의무와 책임은 판매회원에게
                        있습니다.</p>
                    <p class="line_bottom_p">(주)링커 사이트의 상품/전문가/이벤트 정보, 디자인 및 화면의 구성, UI 등의 무단복제, 배포, 방송 또는 전송,
                        스크래핑 등의 행위는 저작권법, 콘텐츠산업 진흥법 등 관련법령에 의하여 엄격히 금지됩니다.</p>
                    <p class="line_bottom_p">Copyright © 2025 Jongsu Macne. All rights reserved.</p>
                </div>
            </div>


        </div>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var statusSelect = document.querySelector(".product-status");

            statusSelect.addEventListener("change", function (event) {
                var selectedValue = this.value; // 변경된 값 저장
                var previousValue = this.getAttribute("data-prev-value") || "판매중"; // 이전 값 (초기값: 제작중)

                var isConfirmed = confirm("상품 상태를 " + selectedValue + "으로 변경하시겠습니까?");

                if (isConfirmed) {
                    this.setAttribute("data-prev-value", selectedValue); // 변경 확정 시 저장
                    alert("상품 상태가 " + selectedValue + "으로 변경되었습니다.");
                } else {
                    this.value = previousValue; // 취소 시 원래 값으로 복원
                }
            });

            // 초기값 저장
            document.querySelectorAll(".order-status").forEach(select => {
                select.setAttribute("data-prev-value", select.value);
            });
        });

        // 전체 선택 체크박스
        function toggleSelectAll() {
            var selectAllCheckbox = document.getElementById("selectAll");
            var checkboxes = document.querySelectorAll(".product-checkbox");
            checkboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
            });
        }

        // 선택된 상품 삭제 기능
        function deleteSelectedProducts() {
            var selectedCheckboxes = document.querySelectorAll(".product-checkbox:checked");
            if (selectedCheckboxes.length == 0) {
                alert("삭제할 상품을 선택해 주세요.");
                return;
            }

            var productIdsToDelete = [];
            selectedCheckboxes.forEach(checkbox => {
                productIdsToDelete.push(checkbox.value); // 체크된 상품 ID 저장
            });

            var isConfirmed = confirm("선택된 상품을 삭제하시겠습니까?");
            if (isConfirmed) {
                // 삭제 요청을 서버로 보낼 수 있습니다 (예: AJAX 요청)
                alert("상품 ID " + productIdsToDelete.join(", ") + "가 삭제되었습니다.");
                // 서버에서 삭제 작업 후 페이지 새로고침 또는 목록 갱신
                // 예시: location.reload();  // 페이지 새로고침
            }
        }

        let currentPage = 1;
        var totalPages = 10; // 예시로 총 10페이지가 있다고 가정

        function goToFirstPage() {
            currentPage = 1;
            updatePage();
        }

        function goToPreviousPage() {
            if (currentPage > 1) {
                currentPage--;
                updatePage();
            } else {
                alert("이전 페이지가 없습니다.")
            }
        }

        function goToNextPage() {
            if (currentPage < totalPages) {
                currentPage++;
                updatePage();
            }
        }

        function goToLastPage() {
            currentPage = totalPages;
            updatePage();
        }

        function updatePage() {
            document.getElementById('currentPage').textContent = currentPage;
            // 페이지 이동에 따른 추가 로직을 여기에 추가할 수 있습니다 (예: 서버로 요청 보내기).
        }
    </script>
</body>

</html>